{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container bg-light mt-4">

    <h3 class="text-center mb-4">Feed</h3>

    {% if all_posts %}
        {% for post in all_posts %}
            <div class="card mb-4 col-md-6 mx-auto shadow-sm">

                <!-- Post Header -->
                <div class="card-header bg-white d-flex justify-content-between align-items-center">
                    <strong>{{ post.user.username }}</strong>

                    {% if post.user == request.user %}
                        <div>
                            <a href="{% url 'edit_post' post.id %}" class="btn btn-sm btn-outline-primary">Edit</a>
                            <a href="{% url 'delete_post' post.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
                        </div>
                    {% endif %} 
                </div>

                <!-- Post Image -->
                {% if post.picture %}
                    <img src="{{ post.picture.url }}"
                         class="card-img-top"
                         alt="Post Image">
                {% endif %}

                <div class="card-body py-2">
                    <div class="d-flex align-items-center gap-3">

                        <!-- Like Button -->
                        <button class="btn btn-sm btn-outline-danger">
                            ‚ù§Ô∏è Like
                        </button>

                        <!-- Comment Button -->
                        <button class="btn btn-sm btn-outline-secondary">
                            üí¨ Comment
                        </button>

                    </div>
                </div>

                <!-- Post Body -->
                <div class="card-body">
                    <p class="card-text">{{ post.caption }}</p>
                    <small class="text-muted">
                        {{ post.created_at|date:"d M Y, h:i A" }}
                    </small>
                </div>

            </div>
        {% endfor %}
    {% else %}
        <p class="text-center text-muted">
            No posts available.
        </p>
    {% endif %}

</div>

{% endblock content %}


